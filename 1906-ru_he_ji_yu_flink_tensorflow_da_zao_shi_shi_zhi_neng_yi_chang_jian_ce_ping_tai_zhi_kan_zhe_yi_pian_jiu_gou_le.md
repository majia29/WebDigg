## å¦‚ä½•åŸºäºFlink+TensorFlowæ‰“é€ å®æ—¶æ™ºèƒ½å¼‚å¸¸æ£€æµ‹å¹³å°ï¼Ÿåªçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†  

> åŸåˆ›ï¼š  
> æ½˜å›½åº†  
> å‘å¸ƒ: AIå‰çº¿  
> å‘å¸ƒæ—¥æœŸ: 2019-06-30  

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-0.jpeg)
 ä½œè€… | æ½˜å›½åº†  ç¼–è¾‘ | Natalie  **AI å‰çº¿å¯¼è¯»ï¼š** Flink å·²ç»æ¸æ¸æˆä¸ºå®æ—¶è®¡ç®—å¼•æ“çš„é¦–é€‰ä¹‹ä¸€ï¼Œä»ç®€å•çš„å®æ—¶ ETL åˆ°å¤æ‚çš„ CEP åœºæ™¯ï¼ŒFlink éƒ½èƒ½å¤Ÿå¾ˆå¥½åœ°é©¾é©­ã€‚æœ¬æ–‡æ•´ç†è‡ªæºç¨‹å®æ—¶è®¡ç®—è´Ÿè´£äººæ½˜å›½åº†åœ¨ QCon å…¨çƒè½¯ä»¶å¼€å‘å¤§ä¼šï¼ˆåŒ—äº¬ç«™ï¼‰2019 çš„æ¼”è®²ï¼Œä»–ä»‹ç»äº†æºç¨‹å¦‚ä½•åŸºäº Flink ä¸ TensorFlow æ„å»ºå®æ—¶æ™ºèƒ½å¼‚å¸¸æ£€æµ‹å¹³å°ï¼Œä»¥è§£å†³è§„åˆ™å‘Šè­¦ç³»ç»Ÿå‡†ç¡®ç‡ä½ã€æ—¶æ•ˆæ€§ä½ã€è§„åˆ™é…ç½®å¤æ‚ä¸è€—è´¹äººåŠ›ç­‰è¯¸å¤šé—®é¢˜ï¼Œå®ç°äº†ä¸šåŠ¡æŒ‡æ ‡æ¯«ç§’çº§å»¶è¿Ÿä¸æ™ºèƒ½åŒ–æ£€æµ‹ï¼ŒåŒæ—¶ä¾æ‰˜ Flink å®ç°äº†å¼ºå¤§çš„å®¹é”™æœºåˆ¶ã€‚

**æ›´å¤šä¼˜è´¨å†…å®¹è¯·å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€œAI å‰çº¿â€ï¼ˆIDï¼šai-frontï¼‰** 1ï¼å‰è¨€

éšç€äº’è”ç½‘çš„è¿…é€Ÿå‘å±•ï¼Œå„ä¸ªå…¬å¸éƒ½å»ºç«‹äº†è‡ªå·±çš„ç›‘æ§ä½“ç³»ï¼Œç”¨äºæå‰å‘ç°é—®é¢˜é™ä½æŸå¤±ï¼Œæºç¨‹äº¦æ˜¯å¦‚æ­¤ã€‚ç„¶è€Œæºç¨‹çš„ç›‘æ§ä½“ç³»å­˜åœ¨ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š

* ç›‘æ§ç³»ç»Ÿç¹å¤š

* ç›‘æ§å‘Šè­¦é…ç½®å¤æ‚

* æ²¡æœ‰ç»Ÿä¸€è§„èŒƒ

é¦–å…ˆæºç¨‹ç›®å‰å…‰å…¬å¸çº§åˆ«çš„ç›‘æ§ç³»ç»Ÿå°±æœ‰ä¸‰å¥—ï¼Œå„ä¸ª BU ä¸ºäº†æ»¡è¶³è‡ªå·±çš„ä¸šåŠ¡ç›‘æ§éœ€æ±‚ä¹Ÿé™†ç»­å¼€å‘äº†è®¸å¤šè‡ªå·±çš„ç›‘æ§ç³»ç»Ÿã€‚å…¶æ¬¡è¿™äº›ç›‘æ§ç³»ç»Ÿéƒ½æ˜¯åŸºäºè§„åˆ™æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¼‚å¸¸ï¼Œæ¯”å¦‚å½“æ»¡è¶³åŒç¯æ¯”è¿ç»­å‡ ä¸ªç‚¹ä¸Šå‡æˆ–ä¸‹é™åˆ°ç”¨æˆ·é…ç½®çš„é˜ˆå€¼æ—¶è§¦å‘å‘Šè­¦ã€‚æœ€åæ˜¯æ²¡æœ‰ç»Ÿä¸€çš„è§„èŒƒï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯ä¸¤ä¸ªè§„èŒƒï¼Œç¬¬ä¸€ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„è§„åˆ™å‘Šè­¦é…ç½®è§„èŒƒï¼Œä¸åŒçš„ç›‘æ§ç³»ç»Ÿéƒ½å¸¦æœ‰ä¸åŒçš„è§„åˆ™å‘Šè­¦é…ç½®æ–¹å¼ï¼›ç¬¬äºŒï¼Œæ²¡æœ‰ç»Ÿä¸€çš„å¼‚å¸¸åˆ¤æ–­è§„èŒƒï¼Œç ”å‘äººå‘˜æˆ– QA äººå‘˜éƒ½æ˜¯æ ¹æ®è‡ªå·±å¯¹ä¸šåŠ¡çš„ç†è§£ï¼Œé€šè¿‡ä¸»è§‚åˆ¤æ–­æŒ‡æ ‡è¾¾åˆ°ä¸€å®šé˜€å€¼æ—¶ç›‘æ§ç³»ç»Ÿéœ€è¦è¿›è¡Œå‘Šè­¦ã€‚

åŸºäºä»¥ä¸Šçš„ä¸‰ç‚¹é—®é¢˜ç»™ç”¨æˆ·å¸¦æ¥äº†è¯¸å¤šä¸ä¾¿ï¼Œé¦–å…ˆæ˜¯è§„åˆ™å‘Šè­¦ç»´æŠ¤æˆæœ¬é«˜ï¼Œç”¨æˆ·æ—¶å¸¸éœ€è¦åŸºäºå¤šä¸ªç›‘æ§ç³»ç»Ÿä»¥ä¸åŒçš„æ–¹å¼é…ç½®è§„åˆ™å‘Šè­¦ï¼Œè€Œä¸”è¿˜éœ€è¦æ ¹æ®å‘Šè­¦çš„æƒ…å†µæŒç»­è°ƒæ•´é˜ˆå€¼ï¼Œå¯¼è‡´ä¸€ä¸ªè§„åˆ™å‘Šè­¦ä»é…ç½®åˆ°æœ€ç»ˆèƒ½å¤Ÿäº§ç”Ÿè¾ƒå¥½çš„æ•ˆæœéœ€è¦ä¸€ä¸ªå¾ˆé•¿çš„å‘¨æœŸã€‚å…¶æ¬¡ï¼ŒåŸºäºè§„åˆ™å‘Šè­¦å¾€å¾€è¡¨ç°ä¸å°½å¦‚äººæ„ï¼Œä¼šå¯¼è‡´å‡†ç¡®ç‡ä½ã€è¦†ç›–ç‡ä½å’Œæ—¶æ•ˆæ€§ä½çš„ä¸‰ä½çŠ¶å†µã€‚ç”¨æˆ·å¾ˆå¤šæƒ…å†µä¸‹ä¸ºäº†æé«˜å¼‚å¸¸çš„è¦†ç›–ç‡é™ä½æ¼æŠ¥çš„æƒ…å†µï¼Œä¸å¾—ä¸å°†è§„åˆ™å‘Šè­¦çš„é˜€å€¼è®¾ç½®çš„éå¸¸æ•æ„Ÿï¼Œè™½ç„¶è¿™æ ·èƒ½å¤Ÿè¦†ç›–æ›´å¤šçš„å¼‚å¸¸åœºæ™¯ï¼Œå´å¯¼è‡´äº†å¤§é‡çš„è¯¯æŠ¥ï¼Œè§„åˆ™å‘Šè­¦çš„å‡†ç¡®æ€§ä¹Ÿå°±å¤§å¤§æŠ˜æ‰£ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-1.jpeg)

ä¸ºäº†åº”å¯¹ä¸Šè¿°çš„è¯¸å¤šé—®é¢˜ï¼Œæºç¨‹æ‰“é€ äº†è‡ªå·±çš„å®æ—¶æ™ºèƒ½å¼‚å¸¸æ£€æµ‹å¹³å° Prophetã€‚ç®€å•æ¦‚æ‹¬ï¼ŒProphet æ˜¯ä¸€ä¸ªåŸºäºæ—¶åºç±»å‹æ•°æ®ã€ä»¥å¹³å°ä¸ºæ¥å…¥å¯¹è±¡ã€å»è§„åˆ™åŒ–ä¸ºç›®æ ‡çš„å¼‚å¸¸æ£€æµ‹ç³»ç»Ÿï¼ŒåŸºäºæ·±åº¦å­¦ä¹ ç®—æ³•å®ç°å¼‚å¸¸çš„æ™ºèƒ½æ£€æµ‹ï¼ŒåŸºäºå®æ—¶è®¡ç®—å¼•æ“å®ç°å¼‚å¸¸çš„å®æ—¶æ£€æµ‹ï¼Œæä¾›äº†ç»Ÿä¸€çš„å¼‚å¸¸æ£€æµ‹è§£å†³æ–¹æ¡ˆã€‚æ¥ä¸‹æ¥çš„æ–‡ç« ä¼šè¯¦ç»†ä»‹ç»æˆ‘ä»¬æ˜¯å¦‚ä½•ä¾æ¬¡å®ç°äº†å¼‚å¸¸çš„æ™ºèƒ½åŒ–ã€å®æ—¶åŒ–æ£€æµ‹ä»¥åŠå¹³å°çš„æ„å»ºã€‚

2ï¼ æ™ºèƒ½åŒ– 2.1 æ·±åº¦å­¦ä¹ ç®—æ³•é€‰æ‹©

ç›®å‰ä¸šç•Œé‡‡ç”¨æ¯”è¾ƒå¤šçš„æ–¹å¼æ˜¯å¼•å…¥ç»Ÿè®¡åˆ†æçš„å„ç§æ–¹æ³•ï¼Œæ¡†å®šä¸€ä¸ªæ»‘åŠ¨çš„æ ·æœ¬é›†ï¼Œå¯¹è¿™ä¸ªæ ·æœ¬é›†è¿›è¡Œä¸€äº›æ•°æ®å¤„ç†å’Œè½¬åŒ–ï¼Œç»è¿‡å½’ä¸€åŒ–ï¼Œå»å‘¨æœŸï¼Œå»è¶‹åŠ¿ï¼Œå†å°†æœ€æ–°é‡‡é›†åˆ°çš„æ•°æ®ç‚¹ç»è¿‡åŒæ ·çš„è½¬æ¢ï¼Œå’Œæ ·æœ¬é›†çš„æ®‹å·®åºåˆ—çš„ç»Ÿè®¡é‡è¿›è¡Œæ¯”è¾ƒï¼Œæ¯”å¦‚è·ç¦»ã€æ–¹å·®ã€ç§»åŠ¨å¹³å‡ã€åˆ†ä½æ•°ç­‰ï¼Œè¶…å‡ºä¸€å®šçš„èŒƒå›´å°±åˆ¤æ–­ä¸ºå¼‚å¸¸ï¼Œæˆ–æ˜¯ç»¼åˆå„ç§ç¦»ç¾¤ç‚¹è®¡ç®—çš„æ–¹æ³•æ¥åšä¸ªæŠ•ç¥¨ï¼Œå¤šæ•°ç®—æ³•è®¤ä¸ºå¼‚å¸¸åˆ™æŠ¥å¼‚å¸¸ã€‚èµ·åˆæˆ‘ä»¬ä¹Ÿå€Ÿé‰´äº†è¿™ç§åšæ³•ï¼Œå´å‘ç°è™½ç„¶å¯ä»¥ä¸ç”¨ç»´æŠ¤å‘Šè­¦è§„åˆ™äº†ï¼Œä½†æŠ¥è­¦çš„è´¨é‡å¹¶æ²¡æœ‰æå‡ã€‚

æˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€å¥—æ–°çš„ç®—æ³•ï¼Œé™ä½æŠ¥è­¦æ€»é‡åˆ°å¯ä»¥äººå·¥é€ä¸ªå¤„ç†çš„ç¨‹åº¦ï¼ŒåŒæ—¶ä¸èƒ½ä»¥å¢åŠ æ¼æŠ¥çœŸæ­£çš„ç”Ÿäº§è®¢å•æ•…éšœä¸ºä»£ä»·ï¼Œå¹¶ä¸”è¿™å¥—ç®—æ³•çš„è®¾è®¡è¿˜ä¸èƒ½å¤ªå¤æ‚ï¼Œå½±å“åˆ°å‘Šè­¦çš„å®æ—¶æ€§ï¼Œæœ€å¥½è¿˜èƒ½åšåˆ°ç®—æ³•å³æœåŠ¡ï¼Œæœ‰è¾ƒå¼ºçš„å¯ç§»æ¤æ€§ï¼Œæä¾›ç»™å…¶ä»–çš„ç›‘æ§ç³»ç»Ÿä½¿ç”¨ã€‚è‡ªç„¶è€Œç„¶çš„ï¼Œ **åŸºäºç¥ç»ç½‘ç»œçš„æ·±åº¦å­¦ä¹ ç®—æ³•** æˆä¸ºæˆ‘ä»¬è¿›ä¸€æ­¥æ¢ç´¢çš„å·¥å…·ã€‚

RNN ç®—æ³•æ¯”è¾ƒé€‚åˆå¤„ç†åºåˆ—å˜åŒ–çš„æ•°æ®ï¼Œç¬¦åˆæˆ‘ä»¬æ—¶åºç‰¹å¾çš„åœºæ™¯ï¼Œä½†æ˜¯å­˜åœ¨æ¢¯åº¦æ¶ˆå¤±å’Œè¿‡æ‹Ÿåˆçš„ç°è±¡ã€‚è€Œä»–çš„æ”¹è¿›ç‰ˆ LSTM ç®—æ³•ï¼Œèƒ½å¤Ÿé€šè¿‡æ§åˆ¶ä¼ è¾“çŠ¶æ€æ¥é€‰æ‹©æ€§åœ°è®°ä½è¾ƒé‡è¦çš„é•¿æœŸæ•°æ®ï¼Œèƒ½åœ¨æ›´é•¿çš„åºåˆ—ä¸Šæœ‰è‰¯å¥½çš„è¡¨ç°ï¼Œä¸šç•Œä¹Ÿæœ‰å¾ˆå¤šæˆåŠŸçš„åº”ç”¨ã€‚LSTM ç®—æ³•çš„å¼‚å¸¸æ£€æµ‹æ–¹å¼æ˜¯åŸºäºæŒ‡æ ‡çš„å†å²æ•°æ®è®­ç»ƒå‡ºæ¨¡å‹å¹¶åŸºäºç°æœ‰æ•°æ®é¢„æµ‹æŒ‡æ ‡æœªæ¥çš„èµ°åŠ¿ï¼ŒåŸºäºé¢„æµ‹æ•°æ®ä¸ç°å®æ•°æ®å„ç§åå·®æ¥åˆ¤æ–­æŒ‡æ ‡æ˜¯å¦æœ‰å¼‚å¸¸ã€‚è¿™æ ·å¥½å¤„åœ¨äºæ¯ä¸ªæŒ‡æ ‡éƒ½ä¼šè®­ç»ƒä¸€ä¸ªè‡ªå·±çš„æ¨¡å‹ï¼Œèƒ½å¤Ÿè¾¾åˆ°å¾ˆé«˜çš„ç²¾åº¦ï¼Œä½†æ˜¯ä¹Ÿå¸¦æ¥äº†ä¸€å®šçš„å¼Šç«¯ï¼Œéœ€è¦æ¶ˆè€—è¾ƒå¤šçš„è®­ç»ƒä¸æ£€æµ‹èµ„æºã€‚

DNN ç®—æ³•çš„æ£€æµ‹æ–¹å¼ä¸ LSTM çš„æ–¹å¼ä¸åŒï¼Œæˆ‘ä»¬åŸºäºå°æ³¢å˜æ¢ç®—æ³•æå–ç›‘æ§æŒ‡æ ‡ä¸åŒé¢‘åŸŸçš„ç‰¹å¾å–‚ç»™ DNN æ¨¡å‹ï¼Œç›´æ¥è¾“å‡ºæ˜¯å¦å­˜åœ¨å¼‚å¸¸ã€‚è¿™ç§çš„å¥½å¤„åœ¨äºä¸€ä¸ª DNN æ¨¡å‹å°±èƒ½å¤Ÿæ»¡è¶³æ‰€æœ‰å¼‚å¸¸æ£€æµ‹åœºæ™¯çš„éœ€æ±‚ï¼Œä½†æ˜¯ç›¸å¯¹çš„ç‰¹å¾å·¥ç¨‹ä¹Ÿè¦å¤æ‚å¾ˆå¤šï¼Œæˆ‘ä»¬éœ€è¦å¤§é‡çš„äººå·¥æ ‡è®°æ•°æ®æ¥æé«˜æ¨¡å‹çš„ç²¾åº¦ã€‚

æœ€åæ— è®ºæ˜¯åŸºäº LSTM ç®—æ³•è¿˜æ˜¯ DNN ç®—æ³•å®ç°çš„å¼‚å¸¸æ£€æµ‹éœ€è¦æ ¹æ®å„è‡ªæ‰€éœ€çš„ä¸åŒåœºæ™¯æ¥å†³å®šä½¿ç”¨å“ªä¸ªã€‚åœ¨æºç¨‹ï¼Œå¯¹äºæœ€é‡è¦çš„è®¢å•ã€æ”¯ä»˜ç±»æŒ‡æ ‡ï¼Œæˆ‘ä»¬éƒ½æ˜¯é‡‡å– LSTM ç®—æ³•ï¼Œå•ä¸ªæŒ‡æ ‡è®­ç»ƒå•ä¸ªæ¨¡å‹ï¼Œå¯¹äºå…¶ä»–ä¸€äº›éé‡è¦çš„æŒ‡æ ‡å¯ä»¥ä½¿ç”¨ DNN ç®—æ³•ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-2.jpeg)

2.2 æ¨¡å‹è®­ç»ƒ

é€‰å®šå¥½æ·±åº¦å­¦ä¹ ç®—æ³•ä¹‹åï¼Œæˆ‘ä»¬ä¹Ÿå°±å¼€å§‹å°è¯•æ¨¡å‹çš„è®­ç»ƒã€‚æˆ‘ä»¬é¦–å…ˆå–å¾—ç›‘æ§æŒ‡æ ‡çš„å†å²æ•°æ®å¯¹å…¶è¿›è¡Œæ¸…æ´—ï¼Œå…¶ä¸­éœ€è¦å¯¹ä¸€äº›ç©ºå€¼è¿›è¡Œæ’è¡¥ï¼ŒèŠ‚å‡æ—¥æ•°æ®å¯¹äºæ•°æ®æ¨¡å‹çš„å½±å“å¾ˆå¤§ï¼Œå¯¼è‡´è®­ç»ƒå‡ºæ¥çš„æ•°æ®æœ‰åå·®ï¼Œæˆ‘ä»¬ä¹Ÿé€‰æ‹©æ€§çš„å‰”é™¤èŠ‚å‡æ—¥æœŸé—´çš„æ•°æ®ï¼›å¦‚æœå†å²æ•°æ®ä¸­çš„æŸä¸ªåŒºé—´æ•°æ®æ˜¯å¼‚å¸¸åŒºé—´ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ä½¿ç”¨é¢„æµ‹å€¼æ›¿æ¢å¼‚å¸¸åŒºé—´çš„æ•°å€¼ã€‚

åšå®Œæ•°æ®æ¸…æ´—ä¹‹åï¼Œä¹Ÿå°±éœ€è¦å®ç°ç‰¹å¾å·¥ç¨‹ã€‚æˆ‘ä»¬ä½¿ç”¨äº†å¤šå°ºåº¦æ»‘åŠ¨çª—å£æ—¶åºç‰¹å¾çš„æ–¹æ³•ï¼Œå°†ä¸€ä¸ªæ»‘åŠ¨çª—å£å†…çš„æ•°æ®å’Œå‰ n ä¸ªå‘¨æœŸåšç»Ÿè®¡é‡ä¸Šçš„å¯¹æ¯”ï¼Œå‡å€¼ã€æ–¹å·®ã€å˜åŒ–ç‡ç­‰è¿™äº›ï¼Œè¿™æ ·åŸºæœ¬ä¸Šå°±å¯ä»¥æŠŠæ˜æ˜¾çš„å‘¨æœŸæ€§å’Œå¹³ç¨³å‹æ•°æ®ç»™åˆ†ç¦»å‡ºæ¥ã€‚å‰©ä¸‹çš„æ—¶åºä¸­ï¼Œæœ‰äº›æ˜¯æ³¢åŠ¨å¾ˆå¤§çš„éšæœºåºåˆ—ï¼Œæœ‰çš„åˆ™æ˜¯å¸¦æœ‰è¶‹åŠ¿çš„å‘¨æœŸæ€§åºåˆ—ï¼Œé€šè¿‡æ—¶åºåˆ†ææ³•æŠŠå‘¨æœŸæ€§å»æ‰ï¼Œå†ç”¨é¢‘åŸŸåˆ†æå°è¯•åˆ†è§£æˆé¢‘è°±ã€‚å¯¹äºå¸¦æœ‰æ˜æ˜¾é¢‘è°±çš„ï¼Œåˆ™å½’ç±»ä¸ºå‘¨æœŸå‹æ—¶åºï¼Œè€Œé¢‘è°±æ‚ä¹±çš„ï¼Œåˆ™å½’ç±»ä¸ºéå‘¨æœŸæ€§ã€‚

åœ¨åšå®Œç‰¹å¾æå–ä¸æŒ‡æ ‡åˆ†ç±»ä¹‹åï¼Œæˆ‘ä»¬ä¹Ÿå°±æ ¹æ®æŒ‡æ ‡çš„ç±»å‹ä½¿ç”¨ä¸åŒçš„ç®—æ³•è¿›è¡Œæ¨¡å‹è®­ç»ƒã€‚æˆ‘ä»¬æ ¹æ®çº¿ä¸Šçš„äººå·¥æ ‡æ³¨æ•°æ®æŒç»­æ€§çš„ä¼˜åŒ–æˆ‘ä»¬çš„æ¨¡å‹ã€‚æˆ‘ä»¬ç»å†è¿‡åˆæœŸä¸åœçš„è°ƒå‚å’ŒéªŒè¯ä¹‹åï¼Œæˆ‘ä»¬å°†æ¨¡å‹è®­ç»ƒçš„é¢‘ç‡è®¾ä¸ºäº†ä¸¤å‘¨ï¼Œæˆ‘ä»¬æ¯ä¸¤å‘¨é‡æ–°èµ°ä¸‹å›¾ä¸­çš„æ•´ä¸ªæµç¨‹ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡å˜æ›´çš„é¢‘ç‡æ‰€åšçš„è€ƒè™‘ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-3.jpeg)

3ï¼ å®æ—¶åŒ– 3.1 Why Flinkï¼Ÿ

åœ¨è§£å†³äº†æ™ºèƒ½åŒ–å¼‚å¸¸æ£€æµ‹çš„é—®é¢˜åï¼Œæˆ‘ä»¬å¼€å§‹è€ƒè™‘æé«˜æˆ‘ä»¬çš„æ—¶æ•ˆæ€§ã€‚ä»¥å¾€çš„è§„åˆ™å‘Šè­¦ï¼Œä»æ•°æ®äº§ç”Ÿåˆ°è½åœ°åˆ°ç›‘æ§ç³»ç»Ÿï¼Œå†åˆ°è§¦å‘è§„åˆ™åˆ¤æ–­ï¼ŒæœŸé—´å·²ç»ç»å†äº†ä¸€å®šå»¶è¿Ÿã€‚å¹¶ä¸”å¾ˆå¤šè§„åˆ™å‘Šè­¦å¾€å¾€éœ€è¦è¿ç»­ 3 ä¸ªç‚¹æˆ–åˆ™ 5 ä¸ªç‚¹è§¦å‘ä¸‹è·Œæˆ–ä¸Šå‡è§„åˆ™åˆ¤æ–­æ‰ä¼šå‘Šè­¦ï¼Œè¿™æ ·å¦‚æœä¸€ä¸ªæŒ‡æ ‡çš„é‡‡é›†ç²’åº¦æ˜¯ä¸€åˆ†é’Ÿï¼Œé‚£ä¹ˆå¼‚å¸¸å¾€å¾€éœ€è¦è¿‡å¥½å‡ åˆ†é’Ÿæ‰ä¼šè¢«å‘ç°ã€‚ä¸ºäº†è§£å†³æ—¶æ•ˆæ€§çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°è¯•å¼•å…¥å®æ—¶è®¡ç®—å¼•æ“ã€‚ç°åœ¨å¸¸è§çš„å®æ—¶è®¡ç®—å¼•æ“æœ‰ Stormã€Spark Streaming ä»¥åŠ Flinkï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº† Flinkï¼Ÿ

é¦–å…ˆç¬¬ä¸€ç‚¹å°±æ˜¯ Flink æä¾›äº†å¼ºå¤§çš„å®¹é”™ä¿éšœï¼Œæ‰€æœ‰çš„å®æ—¶ä½œä¸šæ— è®ºæä¾›äº†å¤šä¹ˆç¹å¤šçš„åŠŸèƒ½ï¼Œå¦‚æœåœ¨ä½œä¸šçš„å®¹é”™ä¿éšœä¸Šåšçš„ä¸å¥½ï¼Œå¯¹äºç”¨æˆ·éƒ½æ˜¯ä¸å¯æ¥å—çš„ã€‚æˆ‘ä»¬çš„æ•°æ®æºæ˜¯ Kafkaï¼ŒåŸºäº Flink çš„ Checkpoint ä¸ Kafka çš„ Offset å›æº¯åŠŸèƒ½èƒ½å¤Ÿå®ç°æ•°æ®æºåˆ°æ‰§è¡Œå¼•æ“å±‚é¢çš„ Exactly Once çš„è¯­ä¹‰ä¿è¯ï¼ŒåŸºäºå¹‚ç­‰æˆ–äº‹ç‰©ä¿è¯æœ€ç»ˆè¾“å‡ºçš„ Exactly Once è¯­ä¹‰ã€‚

ç¬¬äºŒç‚¹ï¼ŒFlink æä¾›äº†é«˜æ•ˆçš„çŠ¶æ€ç®¡ç†ï¼Œæˆ‘ä»¬åœ¨åšå¼‚å¸¸æ£€æµ‹çš„æ—¶å€™éœ€è¦ä¿å­˜å¼‚å¸¸åŒºé—´çš„é¢„æµ‹æ•°æ®ç”¨äºä¸‹ä¸€è½®çš„å¼‚å¸¸æ£€æµ‹ï¼Œè¿™ä¸ªåç»­ä¼šè®²åˆ°ã€‚

ç¬¬ä¸‰ç‚¹ä¸ç¬¬å››ç‚¹æ”¾åœ¨ä¸€èµ·è®²å°±æ˜¯ï¼ŒFlink æä¾›äº†åŸºäº Event Time çš„ä¸°å¯Œçª—å£å‡½æ•°ï¼ŒSpark Streaming è™½ç„¶ä¹Ÿæä¾›äº†å¯¹çª—å£çš„æ”¯æŒï¼Œä½†æ˜¯å…¶æœ¬è´¨ä¸Šè¿˜éƒ½æ˜¯åŸºäº Processing Time çš„æ•°æ®å¤„ç†ã€‚ç»ˆä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº† Flink ä½œä¸ºæˆ‘ä»¬çš„å®æ—¶è®¡ç®—å¼•æ“ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-4.jpeg)

3.2 å®æ—¶æ£€æµ‹

åœ¨é€‰æ‹©å¥½å®æ—¶è®¡ç®—å¼•æ“åï¼Œæˆ‘ä»¬ä¹Ÿå°±å¼€å§‹å°è¯•åœ¨ Flink ä¸­åŠ è½½ Tensorflow çš„æ¨¡å‹ç”¨æ¥å®æ—¶åšå¼‚å¸¸æ£€æµ‹ã€‚é¦–å…ˆæˆ‘ä»¬å°†æ‰€æœ‰è®­ç»ƒå¥½çš„ Tensorflow æ¨¡å‹ä»¥.pb çš„æ ¼å¼ä¸Šä¼ åˆ° HDFS å¹¶å°†æ–°å¢æˆ–æ›´æ–°çš„æ¨¡å‹é…ç½®æ›´æ–°åˆ°é…ç½®ä¸­å¿ƒ QConfig ä¸Šã€‚Flink ä½œä¸šåœ¨å¯åŠ¨æˆ–è¿è¡Œä¸­æ—¶ï¼Œç›‘å¬é…ç½®ä¸­å¿ƒä¸­éœ€è¦ç›‘æ§çš„æŒ‡æ ‡å¹¶å°è¯•ä» HDFS ä¸ŠåŠ è½½æ¨¡å‹ã€‚ç”±äºåæœŸæ¨¡å‹è¾ƒå¤šï¼Œä¸ºäº†é¿å…é‡å¤åŠ è½½å’Œè´Ÿè½½å‡è¡¡ï¼Œæ‰€æœ‰æŒ‡æ ‡ä¼šå…ˆæ ¹æ® id keyBy åˆ†å‘åˆ°ä¸åŒçš„ TaskManager ä¸Šï¼Œæ¯ä¸ª TaskManager åªåŠ è½½å±äºè‡ªå·±é‚£éƒ¨åˆ†çš„æ¨¡å‹ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-5.jpeg)

æ¨¡å‹åŠ è½½å®Œæ¯•åï¼Œæˆ‘ä»¬åŸºäº Flink æ»‘åŠ¨çª—å£ä¸ Event Time å®ç°æ•°æ®å®æ—¶æ¶ˆè´¹ä¸é¢„æµ‹ã€‚çª—å£æ»‘åŠ¨çš„æ—¶é—´ä¸ºæŒ‡æ ‡çš„æ—¶é—´ç²’åº¦ï¼ˆä¸‹å›¾ä¸­ä¸º 1 åˆ†é’Ÿï¼‰ï¼Œçª—å£é•¿åº¦ä¸ºåä¸ªæŒ‡æ ‡æ—¶é—´ç²’åº¦ï¼ˆä¸‹å›¾ä¸­ä¸º 10 åˆ†é’Ÿï¼‰ã€‚ä¸€ä¸ªçª—å£ä¸­æ€»è®¡ 10 æ¡æ•°æ®ï¼Œæˆ‘ä»¬é‡‡ç”¨å‰é¢ 5 æ¡æ•°æ®é¢„æµ‹ç¬¬ 6 ä¸ªä½ç½®çš„æ•°æ®ï¼Œç„¶ååŸºäº 2 åˆ° 4 çš„å®é™…æ•°å€¼åŠ ä¸Šç¬¬ 6 æ¡çš„é¢„æµ‹æ•°æ®é¢„æµ‹ç¬¬ 7 ä¸ªæ•°æ®ã€‚ä¾æ­¤ç±»æ¨ï¼Œæœ€ç»ˆæˆ‘ä»¬è·å–åˆ°äº†çª—å£ä¸­å 5 ä½çš„é¢„æµ‹å€¼ä¸å®é™…å€¼ï¼ŒåŸºäº 5 ä¸ªé¢„æµ‹å€¼ä¸å®é™…å€¼å¯¹æ¯”æ£€æµ‹æ˜¯å¦å­˜åœ¨å¼‚å¸¸ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-6.jpeg)

ç„¶è€Œå®é™…çš„æ¶ˆè´¹è¿‡ç¨‹ä¸­å¹¶ä¸ä¼šåƒä¸Šé¢è¯´çš„é‚£ä¹ˆç®€å•ï¼Œé¦–å…ˆä¸€ä¸ªçª—å£å†…å¯èƒ½å­˜åœ¨ç¼ºå¤±æ•°æ®çš„æƒ…å†µï¼Œæˆ‘ä»¬é‡‡ç”¨çª—å£å†…å…¶ä½™æ•°æ®çš„å‡å€¼ä¸æ ‡å‡†å·®è¡¥é½ã€‚å…¶æ¬¡ï¼Œåœ¨ä¸Šä¸ªæ—¶é—´æ®µå¦‚æœå­˜åœ¨å¼‚å¸¸ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥ä½¿ç”¨åŸå§‹çš„å€¼å»é¢„æµ‹æ•°å€¼ï¼Œå› ä¸ºè¿™ä¸ªåŸå§‹å€¼å¯èƒ½æ˜¯ä¸€ä¸ªå¼‚å¸¸å€¼ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸Šä¸ªæ—¶é—´æ®µçš„é¢„æµ‹å€¼æ¥æ›¿æ¢è¿™ä¸ªå¼‚å¸¸å€¼ï¼Œè¿™æ ·èƒ½å¤Ÿä¿è¯æˆ‘ä»¬çš„é¢„æµ‹çº¿ä¸è¢«å¸¦è·‘åã€‚ä¸Šä¸€ä¸ªçª—å£çš„é¢„æµ‹å€¼æˆ‘ä»¬é‡‡ç”¨ flink ä¸­çš„ state æ¥å­˜å‚¨ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-7.jpeg)

åœ¨å–å¾—å½“å‰çª—å£å 5 ä¸ªé¢„æµ‹å€¼ä¸å®é™…å€¼ä¹‹åï¼Œæˆ‘ä»¬å°±å¼€å§‹è¿›å¼‚å¸¸æ£€æµ‹äº†ã€‚æˆ‘ä»¬ä¼šæ ¹æ®å¼‚å¸¸çš„ç±»å‹ï¼ˆæ¯”å¦‚ä¸Šå‡æˆ–ä¸‹é™ï¼‰ä¸æ•æ„Ÿåº¦æ¥åšä¸åŒçš„åˆ¤æ–­ï¼Œä¸‹å›¾ä¸­çš„ä¸‰ä¸ªå¼‚å¸¸æ›²çº¿åˆ†åˆ«å¯¹åº”äº†é«˜ä¸­ä½ä¸‰ä¸ªæ•æ„Ÿçš„åœºæ™¯ï¼Œåœ¨ä½¿ç”¨é«˜æ•åº¦æ—¶ï¼Œå¯èƒ½åªè¦æœ‰ä¸€ä¸ªä¸‹è·Œçš„æŠ–åŠ¨ï¼Œæˆ‘ä»¬å¯èƒ½å°±è®¤ä¸ºå…¶æ˜¯ä¸€ä¸ªæ½œåœ¨çš„å¼‚å¸¸ï¼Œä¸­æ•æ„Ÿåº¦éœ€è¦è¿ç»­ä¸¤ä¸ªä¸‹è·Œçš„æƒ…å†µï¼Œä½æ•æ„Ÿåº¦åˆ™éœ€åœ¨ä¸‹é™å¹…åº¦éå¸¸å¤§çš„æƒ…å†µä¸‹æ‰ä¼šè®¤å®šä¸ºæ½œåœ¨å¼‚å¸¸ã€‚

æˆ‘ä»¬ä¼šåŸºäºé¢„æµ‹å€¼ä¸å®é™…æ•°æ®çš„åå·®æ¥å…ˆåšä¸€ä¸ªæ½œåœ¨åˆ¤æ–­ï¼Œå½“è®¤å®šå®ƒæ˜¯ä¸€ä¸ªæ½œåœ¨å¼‚å¸¸æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨åŸºäºé¢„æµ‹å€¼ä¸å†å²åŒæœŸæ•°æ®çš„å‡å€¼ä¸æ ‡å‡†å·®åšåˆ¤æ–­ï¼Œè¿™æ ·æœ€ç»ˆå¾—å‡ºå½“å‰çš„çª—å£æ˜¯å¦å­˜åœ¨å¼‚å¸¸ã€‚æˆ‘ä»¬è¿™è¾¹åœ¨å¼‚å¸¸åˆ¤æ–­çš„æ—¶å€™è¿˜æ˜¯é‡‡ç”¨äº†ç»Ÿè®¡å­¦ä½œä¸ºåˆ¤æ–­æ–¹å¼ï¼Œå¦‚æœåœ¨æ ·æœ¬è¶³å¤Ÿçš„æƒ…å†µä¸‹ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨æœºå™¨å­¦ä¹ ï¼Œè®­ç»ƒä¸€ä¸ªå¼‚å¸¸æ£€æµ‹æ¨¡å‹æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¼‚å¸¸ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-8.jpeg)

4\. Prophet 4.1 Prophet ç³»ç»Ÿæ¶æ„

åœ¨è®²è¿°å®Œå¦‚ä½•å®ç°æ™ºèƒ½åŒ–ä¸å®æ—¶åŒ–å¼‚å¸¸æ£€æµ‹ä¹‹åï¼Œç›¸ä¿¡å¤§å®¶å¯¹äº Prophet å·²ç»æœ‰äº†ä¸€å®šçš„è®¤çŸ¥ã€‚ä¸‹å›¾å±•ç¤ºäº†æ•´ä¸ª Prophet å¹³å°çš„ç³»ç»Ÿæ¶æ„ï¼Œé¦–å…ˆæ˜¯æœ€åº•å±‚çš„ Hadoop é›†ç¾¤æ‰¿æ‹…äº†åˆ†å¸ƒå¼å­˜å‚¨ä¸èµ„æºè°ƒåº¦çš„åŠŸèƒ½ï¼ŒHDFS ç”¨æ¥å­˜å‚¨ Tensorflow è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œæ‰€æœ‰ Flink ä½œä¸šè¿è¡Œåœ¨ Yarn é›†ç¾¤ä¸Šã€‚ä¸­é—´å±‚çš„æ¶ˆæ¯é˜Ÿåˆ—æ‰¿æ‹…äº†å®æ—¶æ•°æ®æºçš„ä½œç”¨ï¼Œæ‰€æœ‰æŒ‡æ ‡çš„å†å²æ•°æ®å­˜å‚¨åœ¨æ—¶åºæ•°æ®åº“ä¸­ï¼Œå®æ—¶åŒ–ä¸æ™ºèƒ½åŒ–æ£€æµ‹ä¾æ‰˜äº Flink ä¸ Tensorflow ä¸¤å¥—å¼•æ“å®ç°ã€‚æœ€ä¸Šå±‚çš„ Prophet ä»¥å¹³å°çš„æ–¹å¼å¯¹å¤–æä¾›æœåŠ¡ï¼ŒClog ç”¨äºæ—¥å¿—å­˜å‚¨ä¸æ’éšœï¼ŒMuise æ˜¯æˆ‘ä»¬çš„å®æ—¶è®¡ç®—å¹³å°ï¼ŒQconfig ç”¨äºå­˜å‚¨äºç›‘æ§æŒ‡æ ‡ç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼Œæœ€å Hickwall ç”¨äºç›‘æ§ä½œä¸šçš„å„é¡¹æŒ‡æ ‡ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-9.jpeg)

4.2 Prophet æ“ä½œæµç¨‹

ä¸€ä¸ªç”¨æˆ·æƒ³è¦é…ç½®æ™ºèƒ½å‘Šè­¦åªéœ€è¦åšä¸¤ä»¶äº‹ï¼Œé¦–å…ˆåœ¨æˆ‘ä»¬çš„å¹³å°ä¸Šé…ç½®æ™ºèƒ½å‘Šè­¦ï¼Œç”±äºæˆ‘ä»¬å¤§éƒ¨åˆ†å¯¹æ¥çš„æ˜¯ç›‘æ§å¹³å°ï¼Œæ‰€ä»¥ç”¨æˆ·å¤§å¤šæ˜¯åœ¨å„ä¸ªç›‘æ§å¹³å°ä¸Šé…ç½®æ™ºèƒ½å‘Šè­¦ï¼Œç„¶åç›‘æ§å¹³å°è°ƒç”¨æˆ‘ä»¬çš„æœåŠ¡æ³¨å†Œç›‘æ§æŒ‡æ ‡ã€‚ç„¶åç”¨æˆ·éœ€è¦æŒ‰ç…§æˆ‘ä»¬å®šä¹‰å¥½çš„æ ¼å¼å°†åŸå§‹æ•°æ®å‘é€åˆ°æˆ‘ä»¬çš„ Kafka æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿™ä¸€æ­¥åœ¨å¯¹æ¥å¹³å°æ—¶ï¼Œä¹Ÿç”±å¹³å°åšäº†ï¼Œæ‰€ä»¥ç›´æ¥åœ¨æˆ‘ä»¬å¹³å°ä¸Šé…ç½®ç›‘æ§æŒ‡æ ‡çš„ç”¨æˆ·å¾ˆå°‘ã€‚å½“ä¸€ä¸ªç”¨æˆ·æ³¨å†Œå¥½ç›‘æ§æŒ‡æ ‡åï¼Œæˆ‘ä»¬å¹³å°ä¼šå…ˆæ£€æµ‹è¯¥æŒ‡æ ‡çš„å†å²æ•°æ®æ˜¯å¦è¶³å¤Ÿï¼Œå¦‚æœè¶³å¤Ÿåˆ™è§¦å‘æ¨¡å‹è®­ç»ƒçš„æµç¨‹ï¼Œè®­ç»ƒå¥½çš„æ¨¡å‹ä¼šä¸Šä¼ åˆ° HDFSã€‚å¦‚æœå†å²æ•°æ®ä¸è¶³ï¼ŒProphet ä¼šæŒç»­å®æ—¶å­˜å‚¨ç”¨æˆ·æŒ‡æ ‡çš„æ•°æ®ï¼Œå½“æ»¡è¶³æ•°æ®é‡çš„éœ€æ±‚æ—¶ï¼Œé‡æ–°è§¦å‘æ¨¡å‹è®­ç»ƒã€‚å½“æ¨¡å‹è®­ç»ƒå®Œæˆåï¼Œæˆ‘ä»¬ä¼šæ›´æ–°é…ç½®ä¸­å¿ƒï¼Œå‘ŠçŸ¥ Flink ä½œä¸šæœ‰æ–°çš„æˆ–æ›´æ–°çš„æŒ‡æ ‡æ¨¡å‹å·²ç»å°±ä½ã€‚

å®æ—¶è¿™å—çš„æµç¨‹æ˜¯ Flink å¯åŠ¨æˆ–è¿è¡Œä¸­ä¸€æ—¦ç›‘å¬åˆ°æœ‰æ–°çš„æˆ–æ›´æ–°çš„æ¨¡å‹ï¼Œä½œä¸šä¼šé‡æ–°åŠ è½½æ¨¡å‹ã€‚å¦å¤– Flink ä¼šå®æ—¶ä» Kafka ä¸­æ¶ˆè´¹æ•°æ®ï¼Œå®æ—¶çš„è¿‡æ¨¡å‹åšå¼‚å¸¸æ£€æµ‹ï¼Œæœ€ç»ˆå°†å¼‚å¸¸å‘Šè­¦å›ååˆ° Kafkaï¼Œå„ä¸ªå¹³å°æ¶ˆè´¹è‡ªå·±çš„å¼‚å¸¸å‘Šè­¦æ•°æ®å¹¶ç»™ç›¸å…³çš„è´Ÿè´£äººå‘é€å‘Šè­¦é€šçŸ¥ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-10.jpeg)

4.3 å¹³å°ç°çŠ¶

ç›®å‰ Prophet å·²ç»è¦†ç›–äº†æºç¨‹æ‰€æœ‰çš„ä¸šåŠ¡çº¿ï¼Œæ¥å…¥äº†åä½™ä¸ªç›‘æ§å¹³å°ï¼Œå…¶ä¸­åŒ…å«å…¬å¸çº§çš„ç›‘æ§ç³»ç»Ÿ Sitemon ä¸ Hickwallï¼Œç›‘æ§äº† 7000+ ä¸ªä¸šåŠ¡æŒ‡æ ‡ï¼ŒåŒ…å«è®¢å•ã€æ”¯ä»˜ã€åº”ç”¨ã€æœåŠ¡ç­‰å¤šç§ä¸šåŠ¡ç±»å‹æŒ‡æ ‡ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-11.jpeg)

åœ¨å¹³å°è¿è¡Œçš„åŠå¹´æ—¶é—´å†…ï¼Œæˆ‘ä»¬çš„ç®—æ³•èƒ½å¤Ÿè¾¾åˆ° 90% çš„å¬å›ç‡ï¼ˆä¹Ÿå°±æ˜¯å¼‚å¸¸è¦†ç›–ç‡ï¼‰ï¼›ç”±äºæˆ‘ä»¬ä¸šåŠ¡æ–¹éœ€æ±‚æ˜¯å°½é‡è¦†ç›–æ›´å¤šçš„å¼‚å¸¸ï¼Œä¸è¦æ¼æŠ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„å‡†ç¡®ç‡ä¿æŒåœ¨ 75% å·¦å³ï¼›åœ¨å¼•å…¥äº† Flink å®æ—¶æ¶ˆè´¹æ•°æ®ä¸æ£€æµ‹ï¼Œæå¤§çš„é™ä½äº†æˆ‘ä»¬å‘Šè­¦çš„å»¶è¿Ÿï¼Œè¾¾åˆ°äº†æ¯«ç§’çº§çš„å»¶è¿Ÿï¼›å¯¹æ¯”è§„åˆ™å‘Šè­¦ï¼Œæˆ‘ä»¬å¸®åŠ©ç”¨æˆ·é™ä½äº† 10 å€çš„å‘Šè­¦æ•°é‡ï¼Œæå‡äº† 10 å€çš„ç”¨æˆ·æ•ˆç‡ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-12.jpeg)

ä¸‹å›¾å±•ç¤ºäº†ä» 18 å¹´ 10 æœˆ Prophet ä¸Šçº¿ä»¥æ¥è‡³ 19 å¹´ 4 æœˆåº•ï¼Œæ™ºèƒ½å‘Šè­¦ä¸è§„åˆ™å‘Šè­¦å¯¹å¼‚å¸¸çš„è¦†ç›–ç‡å¯¹æ¯”ã€‚æ€»è®¡å‘ç”Ÿ 176 èµ·å¼‚å¸¸ï¼Œå…¶ä¸­ Prophet å›¾è¡¨ä¸­æ˜¾ç¤ºçš„æ˜¯è¦†ç›–äº† 90% çš„å¼‚å¸¸ï¼Œä½†å…¶å®çœŸæ­£çš„è¦†ç›–ç‡è¦é«˜äº 90%ï¼Œå…¶ä¸­ 18 ä¸ªæœªè¦†ç›–å¼‚å¸¸æœ‰ 15 ä¸ªæ˜¯ç”±äºåˆæœŸç®—æ³•ä¸€ç›´å¤„äºè°ƒæ•´é˜¶æ®µå¯¼è‡´äº†æ¼æŠ¥ã€‚åœ¨ 19 å¹´ä¹‹åï¼Œæˆ‘ä»¬çš„å¼‚å¸¸è¦†ç›–ç‡èƒ½å¤Ÿè¾¾åˆ°æ¥è¿‘ 100%ã€‚ç›¸æ¯”è¾ƒè§„åˆ™å‘Šè­¦ï¼Œæˆ‘ä»¬çš„è¦†ç›–ç‡ä¸Šå‡äº† 22%ï¼ŒåŠæ—¶çš„å¸®åŠ©ç”¨æˆ·é™ä½æŸå¤±ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-13.jpeg)

ä¸‹å›¾å±•ç¤ºäº†æ™ºèƒ½å‘Šè­¦ä¸è§„åˆ™å‘Šè­¦åœ¨å‘Šè­¦æ•°é‡ä¸Šçš„å¯¹æ¯”ï¼Œè§„åˆ™å‘Šè­¦çš„æ•°é‡åŸºæœ¬æ˜¯æ™ºèƒ½å‘Šè­¦çš„ 2 åˆ° 5 å€ï¼Œä½†æ˜¯è¿™å¹¶éæ˜¯ç«™åœ¨åŒä¸€å±‚é¢ä¸Šçš„å¯¹æ¯”ï¼Œå…¶ä¸­æ™ºèƒ½å‘Šè­¦çš„æ•°é‡æ˜¯åŸºäº 800 ç›‘æ§æŒ‡æ ‡ï¼Œè€Œè§„åˆ™å‘Šè­¦æ˜¯åŸºäº 200 ä¸ªç›‘æ§ï¼Œå¦‚æœè§„åˆ™å‘Šè­¦çš„æŒ‡æ ‡æ•°é‡ä¸æ™ºèƒ½å‘Šè­¦çš„æŒå¹³ï¼Œé‚£æ™ºèƒ½å‘Šè­¦é™ä½çš„å‘Šè­¦æ•°é‡ä¼šæ›´ä¸ºæ˜¾è‘—ã€‚å‘Šè­¦æ•°é‡å¯¹äºç”¨æˆ·çš„æ•ˆç‡æå‡æ˜¯ååˆ†æ˜æ˜¾çš„ï¼Œä»¥å¾€ç”¨æˆ·æ¯å¤©éœ€è¦èŠ±è´¹å¤§é‡çš„ç²¾åŠ›å»æ’æŸ¥æ¯ä¸€ä¸ªå‘Šè­¦é‚®ä»¶ï¼Œåœ¨ä½¿ç”¨äº†æ™ºèƒ½å‘Šè­¦åï¼Œè¿™éƒ¨åˆ†å¸®åŠ©ç”¨æˆ·å‡å°‘çš„æ—¶é—´æ˜¯å®å®åœ¨åœ¨çš„æ•ˆç‡æå‡ã€‚

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-14.jpeg)

5ï¼ æŒ‘æˆ˜ä¸å±•æœ›

Prophet åœ¨æºç¨‹æŠ•å…¥ç”Ÿäº§ä½¿ç”¨å·²æœ‰åŠå¹´ä¹‹ä¹…ï¼Œåœ¨è¿™æœŸé—´æˆ‘ä»¬ä¹Ÿé‡åˆ°è¿‡å½¢å½¢è‰²è‰²çš„æŒ‘æˆ˜ã€‚

é¦–å…ˆï¼ŒåŸºäº LSTM ç®—æ³•çš„å¼‚å¸¸æ£€æµ‹æ–¹å¼å­˜åœ¨ä¸€ä¸ªæ˜æ˜¾çš„å¼Šç«¯ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸€ä¸ªæŒ‡æ ‡è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œè¿™æ ·æ— è®ºæ˜¯æ¨¡å‹è®­ç»ƒæ‰€éœ€çš„èµ„æºä»¥åŠå®æ—¶ä½œä¸šåŠ è½½æ¨¡å‹æ‰€éœ€çš„èµ„æºéƒ½æ¶ˆè€—æ¯”è¾ƒå¤§ã€‚

å…¶æ¬¡ï¼ŒLSTM ç®—æ³•å¯¹äºæ³¢åŠ¨å‰§çƒˆçš„éå‘¨æœŸå‹æŒ‡æ ‡è¡¨ç°ä¸æ˜¯ååˆ†è‰¯å¥½ï¼Œæœ‰ä¸€äº›ä¸šåŠ¡ä¼šä¸å®šæœŸçš„åšä¸€äº›æ´»åŠ¨å¯¼è‡´ä¸šåŠ¡æŒ‡æ ‡çš„çªå¢æˆ–çªå‡ï¼Œè¿™ç§è¶‹åŠ¿æ˜¯æ— æ³•ä»å†å²æ•°æ®ä¸­å­¦ä¹ åˆ°ã€‚

ç„¶åï¼Œå¯¹äºä¸€äº›ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡ç±»å‹çš„æ•°æ®ä¹Ÿæ— éœ€ä½¿ç”¨æ™ºèƒ½å‘Šè­¦ï¼Œè§„åˆ™å‘Šè­¦å¯èƒ½æ›´åŠ æ–¹ä¾¿ï¼Œæ¯”å¦‚å½“æœåŠ¡å™¨çš„ cpu ä½¿ç”¨ç‡è¾¾åˆ° 95% çš„æ—¶å€™å°±å‘Šè­¦ã€‚

æœ€åï¼ŒèŠ‚å‡æ—¥å¯¹äºæ™ºèƒ½å‘Šè­¦çš„å½±å“ååˆ†ä¹‹å¤§ï¼Œä¸šåŠ¡æŒ‡æ ‡é€šå¸¸ä¼šåœ¨èŠ‚å‡æ—¥å‰å‘ˆå€æ•°çš„å¢é•¿ï¼Œå‡æ—¥æœŸé—´åˆæ›¾å€æ•°çš„ä¸‹é™ï¼Œè¿™æ ·å¯¼è‡´äº†å¤§é‡æ¼æŠ¥æˆ–è¯¯æŠ¥ã€‚

é’ˆå¯¹ä»¥ä¸Šçš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨æŒç»­çš„æ”¹è¿›ä¹‹ä¸­ã€‚é¦–å…ˆï¼ŒåŸºäº DNN ç®—æ³•çš„é€šç”¨æ¨¡å‹å·²ç»åœ¨çº¿ä¸‹é™ªè·‘äº†æ•°æœˆä¹‹ä¹…ï¼Œè™½ç„¶åœ¨ç²¾åº¦ä¸Šæ¯” LSTM ç®—æ³•çš„å¼‚å¸¸æ£€æµ‹æ–¹å¼ç¨æœ‰é€Šè‰²ï¼Œä½†åœ¨æˆ‘ä»¬æŒç»­ä¼˜åŒ–ä¹‹åå·²ç»åŸºæœ¬èƒ½å¤Ÿ hold ä½çº¿ä¸Šéé‡è¦æŒ‡æ ‡çš„å‘Šè­¦éœ€æ±‚ï¼Œå®ç°å•ä¸ªæ¨¡å‹ç›‘æ§æ•°åƒä¸ªæŒ‡æ ‡çš„åŠŸèƒ½ï¼Œå¤§å¤§é™ä½äº†èµ„æºæŸè€—ã€‚æˆ‘ä»¬åœ¨åº”å¯¹èŠ‚å‡æ—¥å¯¹æ™ºèƒ½æ£€æµ‹å½±å“æ—¶å¼•å…¥äº†å¢é•¿ç³»æ•°çš„æ¦‚å¿µï¼Œç”¨æ¥æ‹‰å‡æˆ–é™ä½é¢„æµ‹å€¼ï¼Œå¹¶ä¸”é‡‡ç”¨ä¸€å®šæ–¹å¼å°†å¢é•¿ç³»æ•°æŒç»­è¡°å‡ï¼Œé˜²æ­¢å¢é•¿ç³»æ•°å¯¼è‡´é¢„æµ‹å€¼çš„è·‘åã€‚ **å…³äºç®—æ³•çš„ç»†èŠ‚ä»¥åŠå„ç§åœºæ™¯ä¸‹çš„åº”å¯¹æ–¹å¼ç”±äºç¯‡å¹…å…³ç³»æ— æ³•åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ä¸€ä¸€å±•å¼€ï¼Œå¦‚æœå¯¹ç®—æ³•ç›¸å…³ç»†èŠ‚æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä»¬è¿™è¾¹ä¹Ÿä¼šè€ƒè™‘è®©ç®—æ³•åŒäº‹å¦èµ·ç‚‰ç¶ï¼Œè¯¦ç»†çš„ä»‹ç»ç®—æ³•ã€ç‰¹å¾å·¥ç¨‹ç­‰ç›¸å…³è¯é¢˜ã€‚**

Prophet åç»­ä¹Ÿä¼šé™†ç»­çš„æ¥å…¥æºç¨‹æ‰€æœ‰çš„ç›‘æ§ç³»ç»Ÿï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç›´åŠªåŠ›åœ¨åšçš„äº‹ã€‚å®æ—¶è®¡ç®—ä¸äººå·¥æ™ºèƒ½ä¸å…‰åœ¨å¼‚å¸¸æ£€æµ‹è¿™ä¸ªåœºæ™¯ä¸‹æœ‰å¾ˆå¥½çš„å‘æŒ¥ï¼Œåœ¨å¾ˆå¤šå…¶ä»–çš„åœºæ™¯ä¸‹ä¹Ÿèƒ½å¤Ÿæœ‰äº®çœ¼çš„è¡¨ç°ï¼Œæ¯”å¦‚é£æ§ã€ä¸ªæ€§åŒ–æ¨èã€æ’åºç­‰ï¼Œæœ¬ç¯‡æ–‡ç« ä¹Ÿç®—æ˜¯æŠ›ç –å¼•ç‰ï¼Œå¸Œæœ›ç»™å¤§å®¶èƒ½å¤Ÿå¸¦æ¥ä¸€äº›å…¶æ³•ï¼Œè¿™æ ·å¯ä»¥å°†è¿™å¥—æ–¹å¼æ›´å¤šçš„ä½¿ç”¨åœ¨å…¶ä»–çš„åœºæ™¯ä¸‹ã€‚

> ##### ä»Šæ—¥èæ–‡

ç‚¹å‡»ä¸‹æ–¹å›¾ç‰‡å³å¯é˜…è¯»

[
![image](https://mp.weixin.qq.com/s?__biz=MzU1NDA4NjU2MA==&mid=2247497123&idx=1&sn=fb383a3375e5368747ba7c4e8f87c6e8&chksm=fbea4c6ccc9dc57a3bab8fc942d71f6f90d1bf7a6b4a2f523e1f4020269150c153a664e20aab&token=1958075233&lang=zh_CN&scene=21#wechat_redirect)

è‡ªåŠ¨é©¾é©¶ç‹‚æ¬¢è½å¹•ï¼šé ä¸€ä¸ªdemoå°±æ•¢å®£ç§°è½åœ°çš„æ—¶ä»£è¿‡å»äº†

* * *

é™æ—¶ç¦åˆ©

ã€Œåœ¨çº¿çº¦èŠã€å’Œäº¬ä¸œä¸€èµ·èŠèŠ5Gæ—¶ä»£ä¸‹çš„è§†é¢‘å’Œæµåª’ä½“æŠ€æœ¯ï¼Œ7æœˆ2æ—¥ï¼Œçº¿ä¸Šè§~æ‰«ç ä¸‹å›¾äºŒç»´ç æˆ–è€…ç‚¹å‡»ã€é˜…è¯»åŸæ–‡ã€‘å…è´¹æŠ¥å~

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-16.jpeg)

* * *

![image](images/1906-rhjyflinktensorflowdzssznycjcptzkzypjgl-17.gif)

**ä½ ä¹Ÿã€Œåœ¨çœ‹ã€å—ï¼Ÿ** ****ğŸ‘‡
